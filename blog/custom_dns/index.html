<!DOCTYPE html>
<html lang="en-US">
  <head>
  

  <title>
    
    
        Adding Custom DNS | Jason Hand
    
  </title>

  <meta name="title" content="Adding Custom DNS | Jason Hand">

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta name="generator" content="">
  <base href="">

  
    <meta name="description" content="Add a custom domain to an App Service">
  

  
    <meta name="author" content="@jasonhand">
  

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@jasonhand">
    <meta name="twitter:creator" content="@jasonhand">
  

  <meta property="og:title" content="Adding Custom DNS | Jason Hand">
  <meta property="og:type" content="website">
  <meta property="og:url" content="">

  
    <meta property="og:image" content="/images/bitops.png">
  

  
    <meta name="og:description" content="Add a custom domain to an App Service">
  

  
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
    <meta name="theme-color" content="#FFF">
  

  <link rel="canonical" href="/blog/custom_dns/">

  

  <link rel="stylesheet" href="/styles/main.css" type="text/css">

  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  

  
</head>

  <body>
    



<nav class="row middle-xs center-xs">
  <div class="col-xs-6 col-sm-1 logo">
    <a href="#"><img src="/images/pit_crew.png" alt="Jason Hand"></a>
  </div>
    
      <div class="col-xs-3 col-sm-2">
        <h3><a href="/#about">Bio</a></h3>
      </div>
    
      <div class="col-xs-3 col-sm-2">
        <h3><a href="/#work">Community</a></h3>
      </div>
    
      <div class="col-xs-3 col-sm-2">
        <h3><a href="/#blog">Blog</a></h3>
      </div>
    
      <div class="col-xs-3 col-sm-2">
        <h3><a href="/#contact">Social</a></h3>
      </div>
    
  <div class="col-xs-6 col-sm-1 nav-toggle">
      <a href="" class="nav-icon" onclick="return false"><img src="/images/icon-menu.png" alt="Open Menu"><img src="/images/icon-x.png" alt="Close Menu" style="display: none;"></a>
  </div>
</nav>

<section class="nav-full row middle-xs center-xs">
  <div class="col-xs-12">
    <div class="row middle-xs center-xs">
      
        <div class="col-xs-12"><h1><a href="/#about">Bio</a></h1></div>
      
        <div class="col-xs-12"><h1><a href="/#work">Community</a></h1></div>
      
        <div class="col-xs-12"><h1><a href="/#blog">Blog</a></h1></div>
      
        <div class="col-xs-12"><h1><a href="/#contact">Social</a></h1></div>
      
    </div>
  </div>
</section>

    <main>

      <section class="container">
          <section class="content">
              <h1> Adding Custom DNS </h1>

              <div class="sub-header">
                  September 18, 2018 Â· 3 minute read
              </div>

              <article class="entry-content">
                  <p>This is a continuation of &ldquo;Six Easy Steps to Deploying Static HTML on Azure&rdquo; and &ldquo;Configure Auto Deployments&rdquo;.</p>

<p>Now that we are able to easily deploy changes to our site through auto-deployments and source control, we are ready to point our custom domain (jasonhand.com in my case) to this new site (App Service actually). But before we do this, we have to scale our App Service plan to a paid tier (Shared, Basic, Standard, or Premium). So the first step is to make sure that the App Service app is in the supported pricing tier.</p>

<p>Navigate to the app in the Azure portal
From the left menu, select App Services, and then select the name of the app.</p>

<p><img src="/images/AppServices.png" alt="" /></p>

<p>You should see the details of your App Service including the plan/pricing tier in the upper right of the dashboard. We need to scale to something larger in order to take advantage of custom DNS.</p>

<p><img src="/images/AppServicePlan.png" alt="" /></p>

<p>In the left navigation, go to the Settings section and select Scale up (App Service plan).</p>

<p>You&rsquo;ll then see several pricing tiers. Currently, I&rsquo;m using an F1 (FREE) tier but I want to move up to the next largest size (D1).</p>

<p><img src="/images/PlanTierPricing.png" alt="" /></p>

<p>Select the D1 tier and click &ldquo;Apply&rdquo; at the bottom of the dashboard.</p>

<p>In just seconds, the process is complete and we are ready to move forward.</p>

<p>We can use either a CNAME record or an A record to map a custom DNS name to our App Service.</p>

<p>Because I&rsquo;m setting up my root domain (jasonhand.com) I will use an A record.</p>

<p>To map an A record, you need the app&rsquo;s external IP address. You can find this IP address in the app&rsquo;s Custom domains page in the Azure portal. Copy the app&rsquo;s IP address for use later.</p>

<p>In the left navigation of the app page in the Azure portal, select Custom domains.</p>

<p><img src="/images/CustomDomains.png" alt="" /></p>

<p>In the Custom domains page, copy the app&rsquo;s IP address.</p>

<p><img src="/images/PublicIP.png" alt="" /></p>

<p>I&rsquo;m managing my DNS with Cloudflare to provide an extra layer of protection as well as faster displaying of content.</p>

<p><img src="/images/CloudFlareARecord.png" alt="" /></p>

<p>If you have a previous A record for your root domain (e.g. jasonhand.com NOT www.jasonhand.com) you&rsquo;ll want to remove that.</p>

<p>Create a new A Record using the public IP address previously copied from the dashboard.</p>

<p>We also need to create a TXT record to associate the internal (e.g. your-app-service.azurewebsites.net)</p>

<p><img src="/images/TXTConfigure.png" alt="" /></p>

<p>When you click the &ldquo;Configure&rdquo; box in the middle and click the Add button.</p>

<p><img src="/images/TXTAzureDomain.png" alt="" /></p>

<p>Back in the app&rsquo;s Custom domains page in the Azure portal, add the fully qualified custom DNS name (e.g. sjasonhand.com) to the list.</p>

<p>Select the + icon next, add the hostname in the upper right and select &ldquo;Validate&rdquo;</p>

<p><img src="/images/AddHostname.png" alt="" /></p>

<p>Finally, press the &ldquo;Add hostname&rdquo; button at the bottom of the screen.</p>

<p>Huzzah!  Within a few moments, your domain should begin resolving to your site hosted on Azure.</p>

              </article>

              <div class="pagination">
                  
                      <a href="/blog/configure_deployment_option/">&laquo; Configure Auto Deployments</a>
                  
                  
                      <a href="/blog/what_a_long_strange_trip_its_been/">What A Long Strange Trip It&#39;s Been &raquo;</a>
                  
              </div>
          </section>
          <br>
          <section class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname == "localhost")
        return;
      var disqus_shortname = 'jasonhand';
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view comments powered by <a href="http://disqus.com/?ref_noscript">Disqus</a>.</noscript>
</section>

      </section>

    </main>
    <footer class="row middle-xs center-xs">
 
 
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://twitter.com/jasonhand">Twitter</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://instagram.com/jhand">Instagram</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://facebook.com/jhand">Facebook</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://linkedin.com/in/jasonhand24">LinkedIn</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://youtube.com/jasonhand24">YouTube</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://github.com/jasonhand">GitHub</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://reddit.com/user/jhand24">Reddit</a></div>
  

  
    <div class="col-xs-3 col-md-2"><a target="_blank" href="https://medium.com/@jasonhand">Medium</a></div>
  
 


  
    <div class="col-xs-12">
      
        Copyright &copy; 2018 Jason Hand.
      
      
        <a href="https://tomanistor.com" target="_blank">Theme developed by Toma Nistor</a>
      
    </div>
  

</footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

  <script src="/scripts/main.min.js" type="text/javascript"></script>


  </body>
</html>
